<!DOCTYPE html>
<html lang="tk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Altyn Asyr - Aman Hayitmuradow</title>
    <style>
        :root {
            --bg-color: #f4f4f4;
            --card-bg: #ffffff;
            --text-color: #333;
            --header-bg: #0056b3;
            --accent: #28a745;
        }

        .night-mode {
            --bg-color: #011627;
            --card-bg: #1e2a38;
            --text-color: #ffffff;
            --header-bg: #003d80;
        }

        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color); 
            margin: 0; padding: 0; transition: 0.5s;
        }

        /* Gar effekti */
        #snow-canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100; }

        /* T√§ze √Ωyl y≈üyklary */
        .lights { position: fixed; top: 0; width: 100%; height: 10px; display: flex; justify-content: space-around; z-index: 1000; }
        .light { width: 10px; height: 10px; border-radius: 50%; animation: flash 1s infinite alternate; }
        @keyframes flash { from { opacity: 0.3; } to { opacity: 1; box-shadow: 0 0 10px white; } }

        /* √ùokarky bannner */
        .marquee-banner { background: #d00000; color: white; padding: 10px 0; overflow: hidden; white-space: nowrap; border-bottom: 3px solid #ffcc00; }
        .marquee-text { display: inline-block; animation: scroll-left 15s linear infinite; font-weight: bold; }
        @keyframes scroll-left { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        .container { max-width: 420px; margin: 20px auto; padding: 15px; position: relative; z-index: 10; }

        /* Gara≈üyl√Ωan wagt (Loading) stili */
        #loader {
            display: none;
            text-align: center;
            padding: 20px;
        }
        .spinner {
            width: 40px; height: 40px; border: 4px solid #f3f3f3;
            border-top: 4px solid var(--header-bg); border-radius: 50%;
            animation: spin 1s linear infinite; margin: 0 auto 10px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Kartlar we Dizayn */
        .profile-card { background: var(--card-bg); padding: 20px; border-radius: 15px; margin-bottom: 20px; text-align: center; border-top: 5px solid var(--header-bg); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .iban-style { display: block; margin-top: 15px; color: #000; font-family: 'Courier New', monospace; font-weight: 900; font-size: 16px; padding: 12px; background: #eee; border: 2px solid #333; border-radius: 8px; }

        .card { background: var(--card-bg); border-radius: 15px; overflow: hidden; box-shadow: 0 5px 25px rgba(0,0,0,0.2); }
        .card-header { background: var(--header-bg); color: white; padding: 15px; text-align: center; }
        input { width: 100%; padding: 14px; margin-bottom: 15px; border: 1.5px solid #ddd; border-radius: 10px; font-size: 18px; box-sizing: border-box; background: white; color: black; }

        .pay-btn { width: 100%; padding: 18px; background: #28a745; color: white; border: none; border-radius: 10px; font-size: 20px; font-weight: bold; cursor: pointer; }
        .wa-btn { width: 100%; padding: 15px; background: #25D366; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; text-decoration: none; margin-top: 10px; }
        
        .live-clock { font-family: monospace; font-weight: bold; color: #ffc107; background: #333; padding: 5px 10px; border-radius: 5px; text-align: center; margin-bottom: 10px; }
    </style>
</head>
<body onload="initSnow(); drawSnow();">

    <canvas id="snow-canvas"></canvas>
    <div class="lights">
        <div class="light" style="background: red;"></div>
        <div class="light" style="background: yellow; animation-delay: 0.2s;"></div>
        <div class="light" style="background: #00ff00; animation-delay: 0.4s;"></div>
        <div class="light" style="background: #00ccff; animation-delay: 0.6s;"></div>
    </div>

    <div class="marquee-banner">
        <div class="marquee-text">üéÑ T√§ze √Ωyly≈àyz gutly bolsun! Aman Hayitmuradow bilen √ßalt we ynamly t√∂legler! üéÖ</div>
    </div>

    <div class="container">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <button onclick="toggleMode()" style="cursor:pointer; border-radius:10px; border:none; padding:8px;">üåô Gije/G√ºndiz</button>
            <div id="clock" class="live-clock">00:00:00</div>
        </div>

        <div class="profile-card">
            <h2 style="margin:0;">Hayitmuradow Aman</h2>
            <span class="iban-style">TR15 0015 7000 0000 0201 4581 78</span>
        </div>

        <div class="card">
            <div class="card-header"><h2 style="margin:0;">ALTYN ASYR</h2></div>
            <div class="card-body" style="padding: 20px;" id="main-content">
                <label>Telefon belgi≈àiz:</label>
                <input type="tel" value="+993 6" id="phone">
                
                <label>Mukdar (TMT):</label>
                <input type="number" id="tmt_input" placeholder="0.00 TMT" oninput="calculate()">
                
                <div id="calc-res" style="text-align:center; font-weight:bold; color:#0056b3; margin-bottom:15px; font-size:24px;">0.00 TL</div>
                
                <button class="pay-btn" id="pay-button" onclick="processPayment()">T√ñLEG ET</button>
                
                <div id="loader">
                    <div class="spinner"></div>
                    <p><b>T√∂leg hasaplan√Ωar, gara≈üy≈à...</b></p>
                </div>

                <a id="wa-link" href="https://wa.me/99364041065" class="wa-btn">üí¨ Dekont ugrat (WhatsApp)</a>
            </div>
        </div>
    </div>

    <script>
        function toggleMode() { document.body.classList.toggle('night-mode'); }

        function calculate() {
            let tmt = document.getElementById('tmt_input').value;
            let tl = (tmt * 10.5).toFixed(2);
            document.getElementById('calc-res').innerText = (tmt > 0 ? tl : "0.00") + " TL";
            document.getElementById('wa-link').href = `https://wa.me/99364041065?text=Salam Aman, men ${tmt} TMT t√∂leg etdim (${tl} TL).`;
        }

        // T√∂leg amala a≈üyryl√Ωan wagtyndaky animasi√Ωa
        function processPayment() {
            const btn = document.getElementById('pay-button');
            const loader = document.getElementById('loader');
            const tmtVal = document.getElementById('tmt_input').value;

            if(!tmtVal || tmtVal <= 0) {
                alert("Ha√Ωy≈ü, mukdary girizi≈à!");
                return;
            }

            // D√ºwm√§ni gizle we "Hasaplan√Ωar" √Ωazgyny g√∂rkez
            btn.style.display = "none";
            loader.style.display = "block";

            // 3 sekuntdan so≈à netijeni g√∂rkez
            setTimeout(() => {
                loader.style.display = "none";
                btn.style.display = "block";
                alert('T√∂leg hasaba alyndy! Indi dekonty WhatsApp arkaly ugradyp bilersi≈àiz.');
            }, 3000);
        }

        // Sagat
        setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);

        // Gar effekti logikasy
        const canvas = document.getElementById('snow-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function initSnow() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            particles = [];
            for(let i=0; i<100; i++) particles.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*3+1, v: Math.random()*1+0.5});
        }
        function drawSnow() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "white"; ctx.beginPath();
            particles.forEach(p => {
                ctx.moveTo(p.x, p.y); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
                p.y += p.v; if(p.y > canvas.height) p.y = -10;
            });
            ctx.fill(); requestAnimationFrame(drawSnow);
        }
        window.onresize = initSnow;
    </script>
</body>
</html>
